const feedbackButton=document.querySelector(".feedback-button"),feedbackModal=document.querySelector(".modal-feedback"),feedbackClose=document.querySelector(".close-button"),feedbackName=document.querySelector(".feedback-name"),feedbackEmail=document.querySelector(".feedback-email"),feedbackText=document.querySelector(".feedback-text"),feedbackForm=document.querySelector(".feedback-form");let isStorageSupport=!0,storageName="",storageEmail="",storageText="";try{storageName=localStorage.getItem("login")}catch(e){isStorageSupport=!1}try{storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}try{storageText=localStorage.getItem("text")}catch(e){isStorageSupport=!1}feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.remove("hidden"),storageName?(feedbackName.value=storageName,storageEmail?(feedbackEmail.value=storageEmail,storageText?feedbackText.value=storageText:feedbackText.focus()):feedbackEmail.focus()):feedbackName.focus()}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&(localStorage.setItem("login",feedbackName.value),localStorage.setItem("email",feedbackEmail.value),localStorage.setItem("text",feedbackText.value)):(e.preventDefault(),feedbackModal.classList.remove("modal-error"),feedbackModal.offsetWidth=feedbackModal.offsetWidth,feedbackModal.classList.add("modal-error"))}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("hidden"),feedbackModal.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){"Escape"===e.code&&(feedbackModal.classList.contains("hidden")||(feedbackModal.classList.add("hidden"),feedbackModal.classList.remove("modal-error")))});
